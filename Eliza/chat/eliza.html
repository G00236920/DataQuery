<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">
  
  </head>
  <body>
    <h1>ELIZA</h1>
        

<!--CHATBOX-->
<!-- The output box where Eliza and users Text is output to screen-->
        <div id="chatbox">
          <ul id="list"></ul>
        </div>
        
       
<!-- INPUT BOX-->
<!--The input Box where the user enters their questions or tex-->
          <form id="inputform" action="change" method="GET" align="middle">
            <input name="userinput" id="userinput"></input>
          </form>


    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    
    <script>

      //Variable to store elizas Repsonse-->
      var q = "";


      //Ajax to get user input, Send it to go servlet -- then get a response 
        $("#inputform").submit(function(event) {
                    
          $.ajax({
            url: 'ajax',
            type: 'post',
            dataType: 'html',
            data : { 
              //question is the user input text
              Question: $("#userinput").val() 
            },
            success: function(response){

              //Unpon successful post to go, - get back eliza's response
              q = response;

              //Output a list - generated by the userinput and eliza output
              $("#list").append('<div id="UserTalks"  align="right">' + $("#userinput").val() 
                                +'</div><br/><br/><div id="ElizaTalks" align="left" >'+q+'</div><br/><br/>');

              //automatically scroll to the bottom
              $('#chatbox').scrollTop($('#chatbox')[0].scrollHeight);
              //Reset the input box to blank
              $("#inputform").trigger('reset');

            }
          });

          //Prevent the default action of the input box
          event.preventDefault();


        })

    </script>

  </body>
</html>